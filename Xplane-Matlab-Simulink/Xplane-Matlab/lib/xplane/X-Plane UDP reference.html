<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><html>	<head>		<meta http-equiv="content-type" content="text/html;charset=ISO-8859-1">		<meta name="generator" content="Adobe GoLive 6">		<title>X-Plane UDP reference</title>	</head>	<body bgcolor="#ffffff">		<div align="center">			<p><b><font size="4">  </font></b><b><font size="4">This is how you get data from X-Plane or send data to X-Plane to use for whatever purposes you like,</font></b><br>				<b><font size="4">including running custom cockpits, motion platforms, or anything else you can think of. </font></b></p>			<p><b><font size="4">&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;<br>					</font></b></p>			<p><font size="4">First things first: You can write a PLUG-IN to get data from X-Plane. This is a small little program that you write yourself that you drop into the PLUGINS folder of X-Plane that will then run whenever you run X-Plane. You can make it read 'data-refs', which are various variables inside X-Plane. With that information, you can make your program draw graphics, send data over a network or serial port, or anything else you want to code! Learn all about plug-ins here: http://www.xsquawkbox.net/xpsdk/phpwiki/index.php</font></p>			<p><font size="4">Another way to get data from X-Plane is to go to the SETTINGS menu, and then to the DATA OUTPUT screen. From there, you can output various data to the screen for observation during flight, to a graphical display for observation in X-Plane right AFTER your flight, to the disk for perusal as a text file or spreadsheet, or to an ethernet cable as explained below.</font></p>			<p><font size="4">So, there are a number of ways to get data from X-Plane, and there are all sorts of variables you can get... for the most difficult one (sending data to an ethernet cable) read on!</font></p>			<p><b><font size="4">&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;<br>					</font></b><font size="5"><b>Setting up the X-Plane network:</b></font></p>			<p>Hook up the computer that you are going to use to drive your special hardware or run your special software to the computer running X-Plane by a simple 100-base-t ethernet cable. If you are hooking up only a single machine directly to the X-Plane machine, then you have to use a CROSSOVER ethernet cable for the machines to talk to each other. If you are hooking up to a switch or router which can have plenty of machines all hooked up at once, then you should use a REGULAR ethernet cable to hook each machine to the switch. Windows users may need to buy ethernet cards for each machine. Macs come with ethernet support out of the box.</p>			<p>Now that you have the machines hooked together, go to the<b> Data Input &amp; Output</b> screen in the <b>Settings</b> menu of the copy of X-Plane running on each computer. Select either of the <b>Internet</b> tabs. Using the settings in these windows, you can get your copies of X-Plane networked in all sorts of ways. To ouput data for your own strange needs, the <b>Data Output</b> tab will send data out via ethernet... the left-most button is to go out via UDP, and you enter the IP address to go out to in one of the Internet tabs.</p>			<p>NOTE: X-PLANE ALWAYS RECEIVES ON PORT 49000.</p>			<p>NOTE: GO TO THE SETTINGS MENU, OPTIONS AND WARNINGS SCREEN, AND TURN ON THE &quot;OUTPUT NET-ERROR FILE&quot; (or similar) to have X-Plane dump the data that it is being given to the error.out file. This will slow down the sim a little, and take up some drive space, but you can leave it on for a little while as you get started, so that if your dtata transfer does NOT work, you can quit X-Plane, open the error.out file with a text editor, and see what (if any) error messages X-Plane is giving you.</p>			<p><b><font size="4">&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;<br>					</font></b><font size="5"><b>The UDP-Message Overview:</b></font></p>			<p>So you want to know how to read the data that X-Plane spits out?<br>				No problem... You send data to X-Plane and get it out by sending messages by UDP.<br>				And here are the data formats for getting data in and out of X-Plane, which we are happy for you to do, to suit your own dark agendas.</p>			<p>You will see some variable types that are defined internally to X-Plane, and here they are:</p>			<p><b>XCHR</b> (character, in local byte-order for the machine you are on)<br>				<b>XINT</b> (4-byte int, in local byte-order for the machine you are on)<br>				<b>XFLT</b> (4-byte ints and floats, in local byte-order for the machine you are on)<br>				<b>XDOB</b> (double-precision float, in local byte-order for the machine you are on)<br>				<b>strDIM</b> is 500<br>				<b>vehDIM</b> is 10</p>			<p>You may notice that we often pass around <b>STRINGS TO REPRESENT NUMBERS</b>, like the <b>null-termed string &quot;123&quot;</b> to represent the number <b>123</b>.<br>								This is simply to avoid having to do byte-order conversion.<br>								Any time you send or receive a structure, the struct alignment must be 4 bytes!</p>			<p>All the UDP messages have the same format, which is:</p>			<p>5-character <b>MESSAGE PROLOUGE (to indicate the type of message)</b></p>			<p>and then a </p>			<p><b>DATA INPUT STRUCTURE</b> (containing the message data that you want to send or receive)</p>			<p><b><font size="4">&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;<br>					</font></b><font size="5"><b>The UDP-Message Prolouge:</b></font></p>			<div align="center">				<div align="center">					<p>So what is the 5-char message prolouge? Easy!</p>					<p>The first <b>4</b> chars are the <b>message type</b>,<br>						the <b>5th</b> char is <b>internal-use INDEX-BYTE</b> for X-Plane (you can enter 0 here when sending data),<br>					</p>					<table width="1099" border="1" cellspacing="0" cellpadding="5" bordercolor="#333333" height="75">						<tr height="15">							<td align="center" valign="top" bgcolor="#999999" width="50%" height="15"><b>SAMPLE CODE TO SEND A MESSAGE:</b></td>						</tr>						<tr align="left" valign="top" bgcolor="#CCCCCC">							<td width="50%">								<div align="left">									<p>xchr data_send[net_SIZE_buff];<br>										<br>										void NET_send(xchr label[5],xchr* data_in,xint data_len,xint ip_index_to)<br>										{<br>										           data_send[0]=label[0];<br>										           data_send[1]=label[1];<br>										           data_send[2]=label[2];<br>										           data_send[3]=label[3];<br>										           data_send[4]=0;<br>										   memcpy(&amp;data_send[5],data_in,data_len);	// load in the data<br>										   data_len+=5;<br>										<br>										   #if APL<br>										      TUnitData unitdata;<br>										      unitdata.addr.len	=sizeof(struct InetAddress);<br>										      unitdata.addr.buf	=(UInt8*)&amp;their_address[ip_index_to];<br>										      unitdata.opt.len	=0;<br>										      unitdata.opt.buf	=0;<br>										      unitdata.udata.len=data_len;<br>										      unitdata.udata.buf=(UInt8*)data_send;<br>										      OSStatus retval	=my_ep-&gt;SndUData(&amp;unitdata);<br>										      xint send_failed	=(retval!=kOTNoError);<br>										   #endif<br>										   #if IBM   <br>										      SOCKADDR_IN addr_otherguy;<br>										      memset(&amp;addr_otherguy,0,sizeof(addr_otherguy));<br>										      addr_otherguy.sin_family     =AF_INET;<br>										      addr_otherguy.sin_port       =htons(str_to_int(net.their_port_str[ip_index_to]));<br>										      addr_otherguy.sin_addr.s_addr=their_address[ip_index_to];<br>										      xint send_failed=(sendto(my_socket,data_send,data_len,0,(LPSOCKADDR)&amp;addr_otherguy,sizeof(struct sockaddr))!=data_len);<br>										   #endif<br>										   #if LIN<br>										      struct sockaddr_in addr_otherguy;<br>										      memset(&amp;addr_otherguy,0,sizeof(addr_otherguy));<br>										      addr_otherguy.sin_family       =AF_INET;<br>										      addr_otherguy.sin_port         =htons(str_to_int(net.their_port_str[ip_index_to]));<br>										      addr_otherguy.sin_addr.s_addr  =their_address[ip_index_to];<br>										      xint send_failed=(sendto(my_socket,data_send,data_len,0,(const struct sockaddr*)&amp;addr_otherguy,sizeof(struct sockaddr_in))!=data_len);<br>										   #endif<br>										}<br>									</p>								</div>							</td>						</tr>					</table>				</div>			</div>			<p><b><font size="4">&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;<br>					</font></b><font size="5"><b>The Data Input Structures:</b></font></p>			<p>So here are various <b>DATA INPUT STRUCTURE </b>formats you can send and receive right after the 5-char <b>MESSAGE PROLOUGE</b>, each identified by the first 4 chars mentioned above as the message type:</p>			<table width="823" border="1" cellspacing="0" cellpadding="5" bordercolor="#333333" height="75">				<tr height="15">					<td align="center" valign="top" bgcolor="#999999" width="50%" height="15"><b>DATA</b></td>				</tr>				<tr align="left" valign="top" bgcolor="#CCCCCC">					<td width="50%">						<div align="center">							<p>Go to the <b>Data Input &amp; Output</b> screen in the <b>Settings</b> menu, <b>Data</b> tab. You can output all manner of data there! All the data you select for internet output will now go to the IP address and port you entered the <b>Internet</b> tab over the ethernet cable<b>.</b> While this could be any IP address on the net, you are most likely to be going to a computer on your own LAN. For each data selection that you make in the<b> Data Output</b> screen, X-Plane will send a little packet over the ethernet cable many times per second. (if you send data to another copy of X-Plane, be sure you check it's DATA RECIEVER option in the <b>Internet</b> tab in this same window) Here is what the &quot;packet&quot; or &quot;structure&quot; looks like for each data selection:</p>							<p><b>DATA INPUT STRUCTURE is the following stuct</b></p>							<p>struct data_struct<br>								{<br>								<b>int index;</b> // data index, the index into the list of variables you can output from the <b>Data Output </b>screen in X-Plane.<br>								<b>float data[8];</b> // the up to 8 numbers you see in the data output screen associated with that selection.. many outputs do not use all 8, though.<br>								};</p>							<p>Now, if you have 10 data output selections, then there will be 10 of these structures sent in one big blob of data every few frames or so. NOW HERE IS AN INTERESTING TIP: YOU CAN ALSO SEND DATA PACKETS RIGHT BACK TO X-PLANE! So, for example, to enter radios or control deflections by UDP, simply send the DATA message described above TO X-Plane by UDP, and X-Plane will use those messages for input and control of the sim! You may send joystick deflections to fly the plane with your own hardware, or send in any number of other variables selectable in the data output screen... whatever can come out, you can send right back in with an identical message but the values of the number changed! Easy!</p>							<p>SEND A -999 FOR ANY VARIABLE IN THE SELECTION LIST THAT YOU JUST WANT TO LEAVE ALONE, OR RETRUN TO DEFAULT CONTROL IN THE SIMULATOR RATHER THAN UDP OVER-RIDE.<br>							</p>						</div>					</td>				</tr>			</table>			<table width="823" border="1" cellspacing="0" cellpadding="5" bordercolor="#333333" height="75">				<tr height="15">					<td align="center" valign="top" bgcolor="#999999" width="50%" height="15"><b>DSEL/USEL/DCOC/UCOC</b></td>				</tr>				<tr align="left" valign="top" bgcolor="#CCCCCC">					<td width="50%">						<div align="center">							<p><b>DATA INPUT STRUCTURE is any series of XINTs</b></p>							<p>Now, say that you are writing an add-on or something for X-Plane and you want your motion-platform or cockpit to send in a request to X-Plane to send a bunch of data out like this, because you are getting tired of going into the data output screen and making selections of data to output all the time. In that case you will SEND a packet just like the one above to X-Plane, but the label will be &quot;DSEL&quot;. The data will be a series of integers indicating which data output you want! (1 for the first in the list, 2 for the second, etc).</p>							<p>So &quot;DSEL0456&quot; would request that X-Plane send the fourth, fifth, and sixth items in the data output screen many times per second to the IP address listed in the <b>Internet Settings</b> screen. DSEL is in <b>characters</b>, but 4 5 6 are YOUR <b>MACHINE-BYTE-ORDER integers.</b></p>							<p>Use <b>DSEL</b> to <b>select</b> data to send via UDP output.</p>							<p>Use <b>USEL</b> to <b>UN-select</b> data to send via UDP output.</p>							<p>Use <b>DCOC</b> to <b>select</b> data to the COCKPIT rather than UDP output.</p>							<p>Use <b>UCOC</b> to <b>UN-select</b> data to the COCKPIT rather than UDP output.</p>						</div>					</td>				</tr>			</table>			<p></p>			<table width="823" border="1" cellspacing="0" cellpadding="5" bordercolor="#333333" height="75">				<tr height="15">					<td align="center" valign="top" bgcolor="#999999" width="50%" height="15"><b>MOUS</b></td>				</tr>				<tr align="left" valign="top" bgcolor="#CCCCCC">					<td width="50%">						<div align="center">							<b>DATA INPUT STRUCTURE is an 8-char string</b>							<p>Simulates a mouse-click, where thedata will be a text string indicating where to act like a MOUSE-CLICK has occurred. This is useful to control any number of instruments on the panel... Just enter the location where you would like the mouse clicked in the blank above, and X-Plane will pretend you have just clicked the mouse there! The location will simply be an 8-character-long string, where the first 4 digits are the x value (0 at the left) and the second 4 digits are the are the y value (0 at bottom).</p>						</div>					</td>				</tr>			</table>			<table width="823" border="1" cellspacing="0" cellpadding="5" bordercolor="#333333" height="75">				<tr height="15">					<td align="center" valign="top" bgcolor="#999999" width="50%" height="15"><b>CHAR</b></td>				</tr>				<tr align="left" valign="top" bgcolor="#CCCCCC">					<td width="50%">						<div align="center">							<p><b>DATA INPUT STRUCTURE is a char</b></p>							<p>You can send this UDP message to X-Plane to act as a keypress. This opens up a lot of possibilities! Menu Selections, landing gear and other equipment... anything that has a keypress you can do simply by sending in that key after the IP address string.</p>						</div>					</td>				</tr>			</table>			<table width="823" border="1" cellspacing="0" cellpadding="5" bordercolor="#333333" height="75">				<tr height="15">					<td align="center" valign="top" bgcolor="#999999" width="50%" height="15"><b>MENU</b></td>				</tr>				<tr align="left" valign="top" bgcolor="#CCCCCC">					<td width="50%">						<div align="center">							<b>DATA INPUT STRUCTURE:</b>							<p>The data part of this message is simply a menu item number you wish to select in string form.<br>															See the Resources/Menus/English/X-Plane.txt file to see the number of each menu item.</p>						</div>					</td>				</tr>			</table>			<div align="center">				<table width="823" border="1" cellspacing="0" cellpadding="5" bordercolor="#333333" height="75">					<tr height="15">						<td align="center" valign="top" bgcolor="#999999" width="50%" height="15"><b>SOUN</b></td>					</tr>					<tr align="left" valign="top" bgcolor="#CCCCCC">						<td width="50%">							<div align="center">								<b>DATA INPUT STRUCTURE:</b>								<p>struct soun_struct{ // play any sound<br>									xflt freq,vol; xchr path[strDIM];};<br>								</p>								<p>Use this to simply play a WAV-file sound. Enter the path of the WAV file in the struct. The freq and volume scale 0.0 to 1.0. Easy!</p>							</div>						</td>					</tr>				</table>				<div align="center">					<table width="823" border="1" cellspacing="0" cellpadding="5" bordercolor="#333333" height="75">						<tr height="15">							<td align="center" valign="top" bgcolor="#999999" width="50%" height="15"><b>DREF</b></td>						</tr>						<tr align="left" valign="top" bgcolor="#CCCCCC">							<td width="50%">								<div align="center">									<b>SET DATAREF STRUCTURE:</b>									<p>struct dref_struct{<br>										xflt var; xchr dref_path[strDIM];};<br>									</p>									<p>Use this to set ANY data-ref by UDP! With this power, you can send in any floating-point value to any data-ref in the entire sim! Just look up the datarefs at http://www.xsquawkbox.net/. Easy!</p>								</div>							</td>						</tr>					</table>					<p></p>				</div>			</div>			<table width="823" border="1" cellspacing="0" cellpadding="5" bordercolor="#333333" height="75">				<tr height="15">					<td align="center" valign="top" bgcolor="#999999" width="50%" height="15"><b>FAIL</b></td>				</tr>				<tr align="left" valign="top" bgcolor="#CCCCCC">					<td width="50%">						<div align="center">							<b>DATA INPUT STRUCTURE:</b>							<p>Fail a system, where the data will indicate which system to fail. The system to fail is sent as an <b>ASCI STRING</b> (ie: &quot;145&quot;), where the 0 is the first failure listed in the failure window in X-Plane (currently the vacuum system) and incremented by 1 from there.</p>						</div>					</td>				</tr>			</table>			<table width="823" border="1" cellspacing="0" cellpadding="5" bordercolor="#333333" height="75">				<tr height="15">					<td align="center" valign="top" bgcolor="#999999" width="50%" height="15"><b>RECO</b></td>				</tr>				<tr align="left" valign="top" bgcolor="#CCCCCC">					<td width="50%">						<div align="center">							<b>DATA INPUT STRUCTURE:</b>							<p>Recover a system, where the data will be an integer indicating which system to recover. The system to recover is sent as an <b>ASCI STRING</b> (ie: &quot;145&quot;), where the 0 is the first failure listed in the failure window in X-Plane (currently the vacuum system) and incremented by 1 from there.</p>						</div>					</td>				</tr>			</table>			<p></p>			<table width="823" border="1" cellspacing="0" cellpadding="5" bordercolor="#333333" height="75">				<tr height="15">					<td align="center" valign="top" bgcolor="#999999" width="50%" height="15"><b>PAPT</b></td>				</tr>				<tr align="left" valign="top" bgcolor="#CCCCCC">					<td width="50%">						<div align="center">							<p>Use this to place the aircraft at an airport. Just use the PAPT message with the following struct filled in:</p>							<p><b>DATA INPUT STRUCTURE:</b></p>							<p>struct papt_struct<br>								{<br>xchr apt_ID[5] ; // ID to go to, null-termed<br>								xint type_start ; // 601 for takeoff, 602 for final approach, 603 for far-away final approach<br>								xint lcl_rwy_ram; // which runway or ramp-start location to use, starting at 0 for each airport<br>								xint backwards ; // 0 or 1, depending on if you want to appraoch from the other direction<br>								};<br>							</p>						</div>					</td>				</tr>			</table>			<p></p>			<table width="823" border="1" cellspacing="0" cellpadding="5" bordercolor="#333333" height="75">				<tr height="15">					<td align="center" valign="top" bgcolor="#999999" width="50%" height="15"><b>VEHN</b></td>				</tr>				<tr align="left" valign="top" bgcolor="#CCCCCC">					<td width="50%">						<div align="center">							<b>DATA INPUT STRUCTURE:</b>							<p>struct vehN_struct{<br>									xint p;<br>									xchr path_rel[150];	<br>									xchr att_file[24][40];};	<br>							</p>							<p>NOTE: FOR THIS MESSAGE, YOU MUST ENTER 17 AS THE VALUE RIGHT AFTER THE 4-CHAR LABEL.</p>							<p>Use this to load a vehicle (an airplane). Just enter wich plane to load as 'p', and the path of the plane as the path. Send this in and X-Plane will load this plane. Send in 1-&gt;19 to load the other planes! The path clearly cannot exceed 150 chars! As well, you can specify up to 24 WEAPONS attached to the airplane, each weapon name being up to 40 chars long. This is nice to arm planes as you like for multi-player fun... of course just leave these blank to have no weapons.</p>						</div>					</td>				</tr>			</table>			<table width="823" border="1" cellspacing="0" cellpadding="5" bordercolor="#333333" height="75">				<tr height="15">					<td align="center" valign="top" bgcolor="#999999" width="50%" height="15"><b>VEH1/VEHA</b></td>				</tr>				<tr align="left" valign="top" bgcolor="#CCCCCC">					<td width="50%">						<div align="center">							<p>You can send the <b>VEH1</b> &quot;ONE-VEHICLE&quot; UDP to move an airplane wherever you like. This way, you can easily have X-Plane do the graphics for your own flight model, whatever that flight model may be! It is really easy... just fill in a structure with the small amount of data needed to indicate the craft's location and orientation and send it in!</p>							<p><b>DATA INPUT STRUCTURE:</b></p>							<p>struct VEH1_struct // byte-align 4<br>								{<br>								xint p; // this is the plane you wish to control.. 0 for your plane, but you can enter up to 9 here<br>xdob lat_lon_ele[3];<br>xflt psi_the_phi[3];<br>xflt gear_flap_vect[3];<br>								}<br>							</p>							<p>Here is what those array are:</p>							<div align="center">								<p>DOUBLE-PRECISION FLOAT array of dimension 3, with the latitude, longitude, and elevation of the aircraft. The elevation of the plane is in meters above sea-level.</p>								<div align="center">									<p>SINGLE-PRECISION FLOAT array of dimension 3, with the heading, pitch, and roll, all in degrees, positive up and right.</p>								</div>							</div>							<p> Gear, flap, and thrust-vectors... single-precision floats, all RATIOS 0-&gt;1,</p>							<p>When you set one plane's location at a time, planes tend to &quot;jiggle&quot; a bit with respect to each other since their locations come in at different times. To avoid this annoyance, use the ALLP message. It is exactly like the ONEP message, except that lat, lon, elevation, the, psi, and phi are each dimmed 10 (index 0 to 9) and the index that you send in is the NUMBER OF PLANES that you want to control. Send in an index of 5, for example, to control planes with indices 0 through 4. Easy! As well, we snuck a little tidbit in the struct for you: the pilots VIWPOINT location. Send in ZERO for these if you are happy with X-Plane's default viewing locations, or the lat, lon, elevation, theta, psi, and phi if not. Here is the total structure you must send in, entering ZERO for unused params:</p>							<p>Or, with the <b>VEHA</b> message, control the locations of MORE THAN ONE PLANE at a time.</p>							<p>struct vehA_struct<br>								{<br>								xint num_p;<br>								<br>								xdob lat_lon_ele[vehDIM][3];<br>								xflt psi_the_phi[vehDIM][3];<br>								xflt gear_flap_vect[vehDIM][3];<br>								<br>										xdob lat_view,lon_view,ele_view;<br>								xflt psi_view,the_view,phi_view<br>								};<br>							</p>							<p>Where vehDIM is 10, send in any number p from 1 to 10 to control how many planes you want to set, and send in a non-zero value for the view locations if you want to control the viewpoint location as well.</p>						</div>					</td>				</tr>			</table>			<p></p>			<table width="823" border="1" cellspacing="0" cellpadding="5" bordercolor="#333333" height="75">				<tr height="15">					<td align="center" valign="top" bgcolor="#999999" width="50%" height="15"><b>OBJN</b></td>				</tr>				<tr align="left" valign="top" bgcolor="#CCCCCC">					<td width="50%">						<div align="center">							<b>DATA INPUT STRUCTURE:</b>							<p>struct objN_struct{			// object name: draw any object in the world in the sim<br>								   xint index;<br>								   xchr path[strDIM];};<br>								<br>							</p>							<p>Just like the airplane struct, but with any OBJ7 object (see the San Bernardino &quot;KSBD_example.obj&quot; sample object in the Custom Scenery folder for an example of an OBJ7 object. With this message, simply send in the path of any object that you have on the drive and you want X-Plane to display! The location is controlled with the struct below.</p>						</div>					</td>				</tr>			</table>			<table width="823" border="1" cellspacing="0" cellpadding="5" bordercolor="#333333" height="75">				<tr height="15">					<td align="center" valign="top" bgcolor="#999999" width="50%" height="15"><b>OBJL</b></td>				</tr>				<tr align="left" valign="top" bgcolor="#CCCCCC">					<td width="50%">						<div align="center">							<b>DATA INPUT STRUCTURE:</b>							<p>struct objL_struct{			// object location: draw any object in the world in the sim<br>								   xint index;<br>								   xdob lat_lon_ele[3];<br>								   xflt psi_the_phi[3];<br>								   xint on_ground;			// is this object on the ground? if so, simply enter 0 for the elevation, x-plane will put it on the ground<br>								   xflt smoke_size;};		// is this object smoking? if so, simply indicate the size of the smoke puffs here<br>							</p>							<p>Enter the location of the object you loaded here. It can be a tank driving around on the ground, a missile firing, or anythng else you can imagine.</p>						</div>					</td>				</tr>			</table>			<p></p>			<table width="823" border="1" cellspacing="0" cellpadding="5" bordercolor="#333333" height="75">				<tr height="15">					<td align="center" valign="top" bgcolor="#999999" width="50%" height="15"><b>GSET</b></td>				</tr>				<tr align="left" valign="top" bgcolor="#CCCCCC">					<td width="50%">						<div align="center">							<p>This allows you to set up graphics options for X-Plane without touching it. This is useful if you have a simulator with many displays, and do not want to manually set the texture res, offsets, etc, for each copy of X-Plane.</p>							<p><b>DATA INPUT STRUCTURE:</b></p>							<p>struct gset_struct{xint index;xflt change_it_to;};</p>							<p>The index indicates what you want to change, the change_it_to indicates... oh you can guess.</p>							<p> 0-&gt;tex_res		<br>								 1-&gt;x_res_req		<br>								 2-&gt;y_res_req		<br>								 3-&gt;col_res_req	<br>								 4-&gt;set_res_req	<br>								 5-&gt;num_acf		<br>6-&gt;render detail<br>7-&gt;object level<br>8-&gt;road level<br>								 9-&gt;draw_boats		<br>10-&gt;draw_birds<br>								11-&gt;draw_fires		<br>								12-&gt;draw_texlites	<br>								13-&gt;draw_shadows	<br>								14-&gt;draw_gload		<br>								15-&gt;off_lat_deg	<br>								16-&gt;off_lat_rat	<br>								17-&gt;off_vrt_deg	<br>								18-&gt;off_vrt_rat	<br>								19-&gt;FOV			<br>								20-&gt;vert1			<br>								21-&gt;vert2			<br>							</p>						</div>					</td>				</tr>			</table>			<table width="823" border="1" cellspacing="0" cellpadding="5" bordercolor="#333333" height="75">				<tr height="15">					<td align="center" valign="top" bgcolor="#999999" width="50%" height="15"><b>ISET</b></td>				</tr>				<tr align="left" valign="top" bgcolor="#CCCCCC">					<td width="50%">						<div align="center">							<p>This allows you to set up internet options for X-Plane without touching it. This is useful if you have a simulator with many displays, and do not want to manually set the IP options for each copy of X-Plane. Simply send this structure:</p>							<p><b>DATA INPUT STRUCTURE:</b></p>							<p>struct iset_struct{<br>								xint index; // (0-&gt;20 in the lsit below)<br>								xchr str_ipad_them[16]; // IP's we are sending to, in english<br>xchr str_port_them[6]; // ports are easier to work with in STRINGS!<br>								xint use_ip ;}; // to use this option, 0 not to.<br>							</p>							<p>IP of multiplayer1=0<br>								IP of multiplayer19=18<br>							</p>							<p>IP of master this is exteranl viewpoint=27<br>								IP of master this is cockpit=28<br>								IP of master this is external any=29<br>								IP of master this is IOS=30<br>								IP of IOS=50<br>								IP of data receiver=52</p>						</div>					</td>				</tr>			</table>			<p></p>			<div align="center">				<table width="823" border="1" cellspacing="0" cellpadding="5" bordercolor="#333333" height="75">					<tr height="15">						<td align="center" valign="top" bgcolor="#999999" width="50%" height="15"><b>BOAT</b></td>					</tr>					<tr align="left" valign="top" bgcolor="#CCCCCC">						<td width="50%">							<div align="center">								<b>DATA INPUT STRUCTURE is a 12-char string</b>								<p>This command is simply a 12-character long string to steer a boat around. (Aircraft carrier, frigate, sailboat, whatever).</p>								<p>It might look like this: &quot;000275010&quot;</p>								<p>That means take boat index 000 (the carrier) turn it to heading 275 degrees true, and run it along at 10 meters per second.</p>								<p>The frigate is index 1, and the sailboats are currently indices 2-&gt;12.</p>								<p>Send in the new command data whenever you like... every frame or once per hour... I don't care. Easy as heck!</p>							</div>						</td>					</tr>				</table>			</div>			<p></p>		</div>	</body></html>